<div class="body">

# Programsko inženjerstvo

**Nositelj**: doc. dr. sc. Nikola Tanković  
**Asistent**: mag. inf. Alesandro Žužić

**Ustanova**: Sveučilište Jurja Dobrile u Puli, Fakultet informatike u Puli

<p style="float: clear; display: flex; gap: 8px; align-items: center;" class="font-brioni text-sm whitespace-nowrap">
    <img src="../Logo/fipu_logo.svg" style="height: 96px; box-shadow: none !important;" class="mr-4"></img>
    Fakultet informatike u Puli
</p>

# [2] Vue Direktive & Upravljanje Događajima

<div style="display: flex; justify-content: space-between; text-align: justify; gap: 32px;">
    <p>  
        Vue omogućuje dinamičku kontrolu DOM-a pomoću <b>direktiva</b> i upravljanje korisničkim interakcijama kroz <b>događaje</b>.  
        Direktive poput <code>v-bind</code>, <code>v-if</code> i <code>v-for</code> omogućuju automatsko ažuriranje sučelja na temelju promjena podataka,  
        dok <code>v-on</code> omogućuje izvođenje radnji na korisničke akcije, poput klika ili unosa teksta.
    </p>
    <img src="../Icons/Vue_3.svg" style="width: 96px; height: 96px; margin: 0px;"></img>
</div>


**Posljednje ažurirano:** 19. ožujka 2025.
<!-- TOC -->

- [Programsko inženjerstvo](#programsko-in%C5%BEenjerstvo)
- [[2] Vue Direktive & Upravljanje Događajima](#2-vue-direktive--upravljanje-doga%C4%91ajima)
    - [Vue Direktive](#vue-direktive)
        - [v-html i v-text](#v-html-i-v-text)
        - [v-bind](#v-bind)
        - [v-bind](#v-bind)

<!-- /TOC -->
<div class="page"></div>

## Vue Direktive

Vue.js nudi širok spektar ugrađenih direktiva koje pojednostavljuju manipulaciju sadržajem na stranici. Sve direktive u Vue-u započinju s prefiksom `v-`, čime označavaju specifičnu funkcionalnost unutar aplikacije.

Popis najvažnijih Vue direktiva:

| Direktiva   | Opis                                                                      |
| ----------- | ------------------------------------------------------------------------- |
| `v-text`    | Dinamički postavlja tekst unutar elementa, zamjenjujući sadržaj           |
| `v-html`    | Dinamički postavlja HTML unutar elementa, omogućujući renderiranje HTML-a |
| `v-model`   | Povezuje varijable sa input poljima za dvosmjerno bindanje podataka       |
| `v-bind`    | Dinamički veže atribute ili svojstva DOM elemenata na varijable           |
| `v-if`      | Uvjetno prikazuje elemente u DOM-u                                        |
| `v-else`    | Uvjetno prikazuje elemente kada `v-if` uvjet nije ispunjen                |
| `v-else-if` | Alternativa za uvjet `v-else` za dodatne uvjete                           |
| `v-show`    | Kontrolira vidljivost elementa bez uklanjanja iz DOM-a                    |
| `v-for`     | Ponavlja elemente na temelju liste ili objekta                            |
| `v-on`      | Priključuje event listener (npr. `click`, `input`)                        |
| `v-pre`     | Omogućuje Vue-u da preskoči kompilaciju sadržaja unutar elementa          |
| `v-once`     | Postavlja element samo jednom, bez ponovnog Postavljanja.                |
| `v-slot`    | Definira "slot" za dinamično dodavanje sadržaja u komponente              |

### `v-html` i `v-text`

U prethodnoj skripti spomenuli smo direktivu `v-html`, koja omogućuje prikaz HTML sadržaja unutar DOM elementa. Također, postoji i direktiva `v-text` koja omogućuje prikaz običnog teksta unutar elementa.

Direktiva `v-text` postavlja `textContent` svojstvo elementa, što znači da će zamijeniti bilo koji postojeći sadržaj unutar tog elementa.

*Primjer:*

```html
<script setup>
    const sadrzaj = "<span> Ovo je <b>span</b> element </span>";
</script>

<template>
    <div v-html="sadrzaj"> 
    </div>
    
    <div v-text="sadrzaj"> 
    </div>
    
    <div> 
        {{ sadrzaj }}
    </div>
</template>
```
![alt text](Slike/vhtml_vtext.png)

*Ako treba ažurirati samo dio sadržaja, bolje je koristiti template syntax:*

```html
<script setup>
    const ime = "Marko";
    const prezime = "Markić";
    const sadrzaj = `Pozdrav, ja sam ${ime} ${prezime}`;
</script>

<template>     
    <div v-text="sadrzaj"> 
    </div>
    
    <div> 
        Pozdrav, ja sam {{ime}} {{prezime}}
    </div>
</template>
```

Sadržaj unutar `v-html` se ubacuje kao obični HTML – **Vue sintaksa neće biti obrađena**. Ako želimo koristiti `v-html` za dinamičko sastavljanje predložaka, onda se za to koriste komponente.

> Kod SFC (*Single-File Components*), stilovi koji su ograničeni (*scoped styles*) neće se primjenjivati na sadržaj unutar `v-html`, jer taj HTML nije obrađen od strane Vue-ovog predloška.

### `v-model`  

Direktiva `v-model` omogućuje dvosmjerno povezivanje podataka između varijable i HTML elementa. Najčešće se koristi s formama kako bi automatski ažurirala vrijednosti u stanju aplikacije kada korisnik unese podatke.  

*Primjer (Text Input & Checkbox):*  
```html
<script setup>
    import { ref } from "vue";

    const unos = ref("");
    const potvrda = ref(false);
</script>

<template>
    <input v-model="unos" type="text" class="border p-1 rounded" placeholder="Upiši nešto...">
    <p><b>Text:</b> {{ unos }}</p> <br>

    <label>
        <input type="checkbox" v-model="potvrda">
        Prihvaćam uvjete
    </label>
    <p><b>Potvrda:</b> {{ potvrda ? "Prihvaćeno" : "Odbijeno" }}</p>
</template>
```

- `v-model` direktivu ćemo detaljnije proći u sljedećoj skripti

### `v-bind`

Direktiva koju smo također prošli u prošloj skripti `v-bind` omogućuje dinamičko vezivanje atributa ili svojstava DOM elemenata na vrijednosti. Na taj način, kada se vrijednost promijeni, atribut se automatski ažurira.

Koristi se tako da se ispred atributa napiše `v-bind:` ili skraćeno samo `:`.

**Primjeri vezivanja:**

```html
<script setup>
    const slikaURL = "https://www.svgrepo.com/show/179114/painting-painting.svg";
    const link = "https://vuejs.org/guide/essentials/class-and-style.html";
    const disabledDugme = true;
    const stil = {
        color: "red",
        fontSize: "20px"
    };
    const atributi = {
        class: "rounded hover:bg-green-100",
        placeholder: "Upiši text..."
    };
</script>

<template>
    <!-- Vezivanje href atributa -->
    <a :href="link" class="underline hover:text-blue-600" target="_blank">Vue Docs Link</a>
    
    <!-- Vezivanje src atributa -->
    <img :src="slikaURL" class="w-16"> <!-- Kraći zapis -->

    <!-- Vezivanje boolean atributa -->
    <button :disabled="disabledDugme" 
        class="bg-gray-300 p-1 rounded disabled:opacity-25 disabled:cursor-not-allowed">
        Onemogućeno dugme
    </button>

    <!-- Vezivanje stila -->
    <p :style="stil">Ovaj tekst je crven i ima veličinu 20px</p>

    <!-- Vezivanje više atributa odjednom -->
    <input v-bind="atributi" class="border p-2">

    <!-- Dinamička klasa -->
    <div :class="[
            bold, 
            { 'text-rose-700' : hasError}, 
            isActive ? 'border-2 border-orange-400/75 rounded p-1 m-1 w-fit' : ''
        ]">
        Dinamička klasa
    </div>
</template>
```

*Primjeri korištenja:*
```html
<script setup>
import { ref } from "vue";

const size = ref("24");
const selected = ref(false);
const style = ref("");
</script>

<template>
    <input type="range" min="12" max="36" v-model="size"/>
    <div :style="`font-size: ${size}px;`">
        font-size: {{size}}px
    </div>
    
    <input type="checkbox" v-model="selected" class="mr-2"/> 
    <span :class="selected ? 'opacity-100 text-green-700': 'opacity-50 text-red-700'">
        {{selected}}
    </span>

    <br>
    <textarea class="border" type="text" :style="style" v-model="style" :rows="8"/>
</template>
```

### `v-if`, `v-else`, `v-else-if`  

Ove direktive omogućuju uvjetno prikazivanje elemenata:
- `v-if` – Prikazuje element u DOM-u samo ako je uvjet ispunjen  
- `v-else` – Prikazuje element ako prethodni `v-if` uvjet nije ispunjen
- `v-else-if` – Dodaje dodatne uvjete kao alternativa `v-else`

*Primjer:*
```html
<script setup>
    import { ref } from "vue";

    const broj = ref(6)
    const prikazi = ref(false)
</script>

<template>
    <b>Prikaži:</b> <input type="checkbox" v-model="prikazi">

    <div v-if="prikazi">
        Hello!
    </div>

    <br/><br/>

    <b>Broj:</b> <input type="number" v-model="broj" class="border p-1 rounded">

    <div v-if="broj%2==0 && broj%3==0">
        Broj {{ broj }} je djeljiv sa 2 i 3
    </div>
    <div v-else-if="broj%2==0">
        Broj {{ broj }} je djeljiv 2
    </div>
    <div v-else-if="broj%3==0">
        Broj {{ broj }} je djeljiv 3
    </div>
    <div v-else>
        Broj {{ broj }} <b>nije</b> djeljiv sa 2 i 3
    </div>
</template>
```

#### **Zadatak: Provjera sigurnosti lozinke**  

Napišite Vue.js kôd koji omogućuje korisniku unos lozinke i provjerava njezinu sigurnost prema sljedećim kriterijima:  
- Minimalno 8 znakova  
- Najmanje jedno veliko slovo  
- Najmanje jedan specijalni znak (*npr. @, #, $, %...*)  
- Najmanje jedna brojka 

Za svaki neispunjeni uvjet prikazati odgovarajuće upozorenje. Kada su svi uvjeti ispunjeni, prikazuje se poruka: *"Lozinka je sigurna!"*  

Osim tekstualne provjere, implementirati i *indikator jačine lozinke* (*progress bar*), koji vizualno prikazuje razinu sigurnosti lozinke:  

- 10% (crveno) – Nijedan uvjet nije ispunjen  
- 25% (narančasto) – Ispunjen jedan uvjet  
- 50% (žuto) – Ispunjena dva uvjeta  
- 75% (zeleno-žuto) – Ispunjena tri uvjeta  
- 100% (zeleno) – Svi uvjeti su ispunjeni  

Korisničko sučelje treba omogućiti dinamičko ažuriranje poruka i indikatora sigurnosti lozinke u realnom vremenu.

![alt text](Slike/password_bad.png)
![alt text](Slike/password_good.png)

### `v-show`  

Direktiva `v-show` omogućuje uvjetno prikazivanje elemenata, ali umjesto uklanjanja iz DOM-a (kao `v-if`), ona samo mijenja `display` stil elementa. To znači da je `v-show` efikasniji za čestu promjenu vidljivosti, dok je `v-if` bolji za elemente koji se rijetko prikazuju.  

**Primjer:**  
```html
<script setup>
    import { ref } from "vue";
    
    const hide = ref(false);
    const element = ref();

    function dohvati(id) {
        element.value = document.getElementById(id);
    }
</script>

<template>
    Sakrij: <input type="checkbox" v-model="hide">

    <div id="div_if" v-if="!hide">
        Element sakriven sa v-if
    </div>

    <div id="div_show" v-show="!hide">
        Element sakriven sa v-show
    </div>
    
    <div class="flex gap-2">
        <button @click="dohvati('div_if')" 
            class="p-1 bg-sky-200 hover:bg-green-200 rounded cursor-pointer">
            Dohvati element sakriven sa v-if
        </button>

        <button @click="dohvati('div_show')"
            class="p-1 bg-sky-200 hover:bg-green-200 rounded cursor-pointer">
            Dohvati element sakriven sa v-show
        </button>
    </div>

    <div>
        <b>Element:</b> {{ element ? element.outerHTML : 'null' }}
    </div>
</template>
```  
U ovom primjeru možemo sakriti elemente i dohvatiti ih pomoću njihovog *id-ja*. Ako sakrijemo element i pokušamo ga dohvatiti, primijetit ćemo razliku između `v-if` i `v-show`.  

Element sakriven s `v-if` neće postojati u DOM-u, pa će rezultat dohvaćanja biti `null`. S druge strane, element sakriven s `v-show` i dalje postoji u DOM-u, samo mu je postavljen stil `display: none;`, što znači da ga možemo dohvatiti.

### `v-for`
